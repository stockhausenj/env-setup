source <(kubectl completion zsh)
alias k=kubectl
alias kcc='kubectl config current-context'
alias kdp='kubectl delete po'
alias kgc='kubectl config get-contexts'
alias kge='kubectl get events --sort-by='\''{.lastTimestamp}'\'
alias kgp='kubectl get po'
alias kl='kubectl logs '
alias kpf='kubectl port-forward'
alias ksc='kubectl config use-context'
complete -F __start_kubectl k

# Source kube-ps1 from homebrew installation
if [ -f /opt/homebrew/opt/kube-ps1/share/kube-ps1.sh ]; then
  source /opt/homebrew/opt/kube-ps1/share/kube-ps1.sh
elif [ -f /usr/local/opt/kube-ps1/share/kube-ps1.sh ]; then
  source /usr/local/opt/kube-ps1/share/kube-ps1.sh
fi

export KUBECTL_EXTERNAL_DIFF=kubectl-neat-diff
